# Using merged

# Before state:
# -------------
#
# viosl2#show running-config | section ^interface
# interface GigabitEthernet0/1
#  description Configured by Ansible
#  negotiation auto
# interface GigabitEthernet0/2
#  description This is test
#  switchport access vlan 20
#  switchport mode access
#  media-type rj45
#  negotiation auto

- name: Merge provided configuration with device configuration
  ios_interfaces:
    config:
      - name: GigabitEthernet0/1
        mode: access
        access_vlan: 10
      - name: GigabitEthernet0/2
        mode: trunk
        native_vlan: 20
    operation: merged

# After state:
# ------------
#
# viosl2#show running-config | section ^interface
# interface GigabitEthernet0/1
#  description Configured by Ansible
#  switchport access vlan 10
#  switchport mode access
#  negotiation auto
# interface GigabitEthernet0/2
#  description This is test
#  switchport trunk encapsulation dot1q
#  switchport trunk native vlan 20
#  switchport mode trunk
#  media-type rj45
#  negotiation auto
