GENERATOR_VERSION: '1.0'

NETWORK_OS: sonic
RESOURCE: snmp
COPYRIGHT: Copyright 2024 Dell Inc. or its subsidiaries. All Rights Reserved.
DOCUMENTATION: |
    module: sonic_snmp
    version_added: 3.3.1
    short_description: Manage SNMP configuration on SONiC
    description:
      - This module provides configuration management of SNMP for devices running SONiC
    author: Aida Shumburo (@aida-shumburo)
    options:
      config:
        description:
          - SNMP configuration
        type: dict
        suboptions:
          agentaddress:
            description:
              - SNMP agent access configuration
            type: list
            elements: dict
            suboptions:
              suboptions:
                ip:
                  description:
                    - IP address
                  type: str
              port:
                description:
                  - SNMP agent access port
                type: int
              interface:
                description:
                  - SNMP agent access interface
                type: str
          communities:
            description:
              - List of communities
            type: list
            elements: dict
            suboptions:
              group:
                description:
                  - SNMP group
                type: str
              name:
                descripton:
                  - Name of group
                type: str
                required: true
          engine:
            description:
              - SNMP engine configuration
            type: str
          users:
            description:
              - List of users
            type: list
            elements: dict
            suboption:
              name:
                description:
                  - Name of user
                type: str
                required: true
              auth:
                description:
                  - User authentication configuration
                type: dict
                suboptions:
                  md5_key: 
                    description: 
                      - MD5 authentication key
                    type: str
                  sha_key:
                    description:
                      - SHA authentication key
                    type: str
              priv:
                description:
                  - Privacy configuration
                type: dict
                suboptions:
                  des_key:
                    description:
                      - DES ecryption
                    type: str
                  aes_key:
                    description:
                      - AES encryption
                    type: str
              encrypted:
                description:
                  - Enable/disable encryption
                type: bool       
          views:
            description:
             - List of views
            type: list
            elements: dict
            suboptions:
              name:
                description:
                  - Name of the view
                type: str
                required: true
              include:
                description:
                  - List of subtrees included in the view
                type: list
                elements: str
              exclude:
                description:
                  - List of subtrees excluded from the view
                type: list
                elements: str
          contact:
            description:
              - Description of the system contact information
            type: str
          location:
            description:
              - Description of the system location information
            type: str
          enable_trap:
            description:
              - Specify trap(s) to enable
            type: list
            elements: str
            choices:
              - auth-fail
              - bgp
              - config-change
              - link-down
              - link-up
              - ospf
              - all
          group:
            description:
              - SNMP group
            type: list
            elements: dict
            suboptions:
              name:
                description:
                  - Name of the group
                type: str
              access:
                description:
                  - List of access rights configuration for groups
                type: list
                elements: dict
                suboptions:
                  security_model:
                    description:
                      - Security model used for user authentication
                    type: str
                    choices:
                      - any
                      - v2c
                      - v3
                  security_level:
                    description:
                      - Minimum security level under which the access rights apply
                    type: str
                    required: true
                    choices:
                      - no-auth-no-priv
                      - auth-no-priv
                      - auth-priv
                  read_view:
                    description:
                      - Name of the read view
                    type: str
                  write_view:
                    description:
                      - Name of the write view
                    type: str
                  notify_view:
                    description:
                      - Name of the notify view
                    type: str  
          host: 
            description:
              - SNMP host
            type: list
            elements: dict
            suboptions:
              address/ip:
                description:
                  - IP address
                type: str
                required: true
              community:
                description:
                  - SNMP community for the host
                type: str
              user:
                description:
                  - SNMP user
                type: dict
              name:
                description:
                  - Name of the host
                type: str
            security_level:
              description:
                - Security level of the host
              type: str
              choices:
                - auth
                - noauth
                - priv
            port:
              description:
                - SNMP access port
              type: int
            source_interface:
              description:
                - SNMP access interface
              type: str
            tag:
              description: 
                - Notification type
              type: str
              choices:
                - inform
                - trap
            timeout:
              description:
                - SNMP access timeout
              type: int
            vrf:
              description:
                - SNMP access VRF
              type: str
      state:
        description:
          - The state of the configuration after module completion
        type: str
        choices: ['merged', 'deleted', 'replaced', 'overridden']
        default: merged
EXAMPLES:
  - deleted_example_01.txt
  - merged_example_01.txt